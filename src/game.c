#include "../include/newTypes.h"
#include "../include/msxSystemVars.h"
#include "../include/msxBIOS.h"
#include "../include/VDP_TMS9918A.h"
#include "joystick_MSXROM.c"
#include "VDP_SPRITES_S_MSXROM.c"
#include "VDP_PRINT.c"


#define  HALT __asm halt __endasm   //wait for the next interrupt

//  definition of functions  ---------------------------------------------------
void WAIT(uint cicles);
void LOCATE(char x, char y);
char PEEK(uint address);
void POKE(uint address, char value);
void CLS();
void VPRINT(char column, char line, char* text);
void VPOKEARRAY(uint vaddr, char* text);
void VPRINTNUMBER(char column, char line, char pLength, uint pNumber);
void setSprites8x8Patterns();
void initSprites();

void inicializar();
void menuPrincipal();
void DRUGS();
void BARRIO();
void STOCK();
void VIAJAR();
void COMERCIAR();
void JONKI();
void POLICIA();
void pijo();
void PRECIOS(int barrio);
void SOBORNO();
void hospital();
void prestamista();
void underflow();
void overflow();
void printCAMEL();
char getR();
int ran100();
void calcDeuda();
void stockCamello();
void diaSemana();
void rastro();
void checkSecreta();
void imprimeBarrio(int barrio, int barrioAhora);
void imprimeIcono(char column, char line, char caracter);

const char bilbao[8][15] = {"Baraka","Lutxana","Leioa","Erandio","Lekeitio","Oslo","Hospital","Prestamista"};
const char madrid[8][15] = {"Orcasitas","Villaverde","Valdemingomez","Fuenlabrada","Carabanchel","Moraleja","Hospital","Prestamista"};
const char newyork[8][15] = {"Harlem","Soho","China Town","Jersey","Bronx","Central Park","Hospital","Prestamista"};
const char drugs[8][15] = {"Pegamento","Kifi","Hachis","Marihuana","Cocaina","MDMA", "LSD", "Kriptonita"};
const char diasSEMANA[7][15] = {"Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"};
const char posX[]={0x15,0x6C,0xAC};
const char posXPOLI[]={0,57,120};
const char posY[]={0x2E,0x36,0x3E,0x46,0x4E,0x56,0x5E,0x66};
const char posYHOSPI[]={0x2E,0x36,0x3E,175};
const char posYpresta[]={0x2E,0x36,0x3E,0x46,0x4E,175};
const char posYrastro[]={0x2E,0x36,0x3E,175};
const char posXmenu[]={16,72,128};
const int rastroDia[] = {2,1,0,4,3,5};

const int disp[][8] = {
  { 9, 12, 18, 30,105, 280, 1010, 2100},
  { 11, 14, 19, 32,95, 310, 1050, 2050},
  { 10, 15, 18, 35,105, 290, 1080, 1990},
  { 10, 12, 21, 33,100, 305, 1030, 2030},
  { 8, 13, 20, 28,90, 310, 1020, 1980},
  { 10, 20, 19, 40,100, 300, 1000, 1950}
  };

const int precioVAR[] = { 1,2, 3, 5, 11, 18, 37, 63};
const int camelloVAR[] = { 4,5, 6, 10, 12, 16, 23, 35};

static unsigned long int next;

int CURSOR = 0;
int r = 1;
int stock[] = { 0, 0, 0, 0, 0, 0, 0, 0};
int camello[] = { 0, 0, 0, 0, 0, 0, 0, 0};
int precioTEMP[] = { 0, 0, 0, 0, 0, 0, 0, 0};
int precioBARRIO[] = { 0, 0, 0, 0, 0, 0, 0, 0};
int dia = 31;
int dinero = 3000;
int deuda = 3000;
int vida = 100;
int bar = 0;
char SEED;
int vidaJonki;
int vidaPoli;
int municion;
int fecha;
int barrioPartida;
int randomSecreta;

boolean pistola = false;
boolean navaja = false;
boolean cadena = false;
boolean botiquin = false;
boolean soplon = false;
boolean mochila = false;
boolean rastroOk = false;
boolean secretaPosible = false;
boolean haySecreta = false;





const unsigned char TILESET_FONT[]={
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,0xff, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1,
0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f,0x0, 0x0, 0x0, 0xff, 0xff, 0xff, 0x0, 0x0,
0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf,0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf,
0xf, 0xf, 0xf, 0xff, 0xff, 0xff, 0xf, 0xf,0x0, 0x0, 0x0, 0x0, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0x0, 0x0, 0x0, 0x0,0x0, 0x0, 0x0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0,
0x0, 0x0, 0x0, 0x38, 0x38, 0x38, 0x38, 0x38,0x0, 0x0, 0x0, 0xa, 0xe, 0xe, 0xe, 0xe,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf,
0x0, 0xf0, 0xf0, 0xfe, 0xfe, 0xfe, 0xf0, 0xf0,0x0, 0x0, 0x0, 0x0, 0xff, 0x0, 0x0, 0x0,
0x10, 0x10, 0x10, 0x7c, 0x10, 0x10, 0x10, 0x10,0x10, 0x10, 0x10, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0x10, 0x10, 0x10, 0x10,0x10, 0x10, 0x10, 0xf0, 0x10, 0x10, 0x10, 0x10,
0x10, 0x10, 0x10, 0x1f, 0x10, 0x10, 0x10, 0x10,0x10, 0x10, 0x10, 0xff, 0x10, 0x10, 0x10, 0x10,
0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10,0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0x1f, 0x10, 0x10, 0x10, 0x10,0xff, 0xff, 0xff, 0xf0, 0x10, 0x10, 0x10, 0x10,
0x10, 0x10, 0x10, 0x1f, 0xff, 0xff, 0xff, 0xff,0x10, 0x10, 0x10, 0xf0, 0xff, 0xff, 0xff, 0xff,
0x81, 0x42, 0x24, 0x18, 0x18, 0x24, 0x42, 0x81,0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80,
0x80, 0x40, 0x20, 0x10, 0x8, 0x4, 0x2, 0x1,0xff, 0x10, 0x10, 0xff, 0x10, 0x10, 0xff, 0xff,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,0x20, 0x20, 0x20, 0x20, 0x0, 0x0, 0x20, 0x0,
0x50, 0x50, 0x50, 0x0, 0x0, 0x0, 0x0, 0x0,0x50, 0x50, 0xf8, 0x50, 0xf8, 0x50, 0x50, 0x0,
0x20, 0x78, 0xa0, 0x70, 0x28, 0xf0, 0x20, 0x0,0xc0, 0xc8, 0x10, 0x20, 0x40, 0x98, 0x18, 0x0,
0x40, 0xa0, 0x40, 0xa8, 0x90, 0x98, 0x60, 0x0,0x10, 0x20, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0,
0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x0,0x40, 0x20, 0x10, 0x10, 0x10, 0x20, 0x40, 0x0,
0x20, 0xa8, 0x70, 0x20, 0x70, 0xa8, 0x20, 0x0,0x0, 0x20, 0x20, 0xf8, 0x20, 0x20, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x20, 0x20, 0x40,0x0, 0x0, 0x0, 0x78, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x60, 0x60, 0x0,0x0, 0x0, 0x8, 0x10, 0x20, 0x40, 0x80, 0x0,
0x0, 0x1e, 0x27, 0x4b, 0x52, 0x66, 0x3c, 0x0,0x0, 0x4, 0xc, 0x4, 0x8, 0x8, 0x1c, 0x0,
0x0, 0x1e, 0x23, 0xe, 0x30, 0x60, 0x7e, 0x0,0x0, 0x1e, 0x23, 0xe, 0x3, 0x66, 0x3c, 0x0,
0x0, 0x19, 0x31, 0x3f, 0x3, 0x6, 0x4, 0x0,0x0, 0x1f, 0x30, 0x3e, 0x3, 0x42, 0x3c, 0x0,
0x0, 0x1e, 0x31, 0x7c, 0x62, 0x42, 0x3c, 0x0,0x0, 0x3f, 0x3, 0x6, 0xc, 0x10, 0x20, 0x0,
0x0, 0x1e, 0x33, 0x3e, 0x63, 0x46, 0x3c, 0x0,0x0, 0x1e, 0x33, 0x1f, 0x3, 0x46, 0x3c, 0x0,
0x0, 0x0, 0x20, 0x0, 0x0, 0x20, 0x0, 0x0,0x0, 0x0, 0x20, 0x0, 0x0, 0x20, 0x20, 0x40,
0x18, 0x30, 0x60, 0xc0, 0x60, 0x30, 0x18, 0x0,0x0, 0x0, 0xf8, 0x0, 0xf8, 0x0, 0x0, 0x0,
0xc0, 0x60, 0x30, 0x18, 0x30, 0x60, 0xc0, 0x0,0x70, 0x88, 0x8, 0x10, 0x20, 0x0, 0x20, 0x0,
0x70, 0x88, 0x8, 0x68, 0xa8, 0xa8, 0x70, 0x0,
0x0, 0xc, 0x16, 0x22, 0x22, 0x7f, 0x41, 0x0,
0x0, 0x3e, 0x23, 0x7e, 0x61, 0x43, 0x7e, 0x0,
0x0, 0x1e, 0x31, 0x60, 0x40, 0x42, 0x3c, 0x0,
0x0, 0x3e, 0x23, 0x63, 0x42, 0x46, 0x7c, 0x0,
0x0, 0x3f, 0x30, 0x7c, 0x40, 0x40, 0x7e, 0x0,
0x0, 0x3f, 0x20, 0x7c, 0x60, 0x40, 0x40, 0x0,
0x0, 0x1e, 0x31, 0x60, 0x4e, 0x42, 0x3c, 0x0,
0x0, 0x21, 0x21, 0x7f, 0x63, 0x42, 0x42, 0x0,
0x0, 0xc, 0x4, 0x8, 0x8, 0x8, 0x18, 0x0,
0x0, 0x3f, 0x1, 0x1, 0x43, 0x62, 0x3c, 0x0,
0x0, 0x21, 0x26, 0x78, 0x48, 0x46, 0x42, 0x0,
0x0, 0x20, 0x20, 0x60, 0x40, 0x40, 0x7e, 0x0,
0x0, 0x11, 0x13, 0x33, 0x2d, 0x4d, 0x49, 0x0,
0x0, 0x21, 0x31, 0x69, 0x4b, 0x46, 0x42, 0x0,
0x0, 0x1e, 0x23, 0x43, 0x42, 0x46, 0x3c, 0x0,
0x0, 0x3e, 0x23, 0x7e, 0x60, 0x40, 0x40, 0x0,
0x0, 0x1e, 0x23, 0x43, 0x5a, 0x4e, 0x3c, 0x0,
0x0, 0x3e, 0x23, 0x7e, 0x64, 0x42, 0x42, 0x0,
0x0, 0x1e, 0x31, 0x1e, 0x3, 0x42, 0x3c, 0x0,
0x0, 0x7f, 0x8, 0x10, 0x10, 0x10, 0x30, 0x0,
0x0, 0x21, 0x21, 0x41, 0x43, 0x66, 0x3c, 0x0,
0x0, 0x61, 0x23, 0x32, 0x14, 0x1c, 0x18, 0x0,
0x0, 0x49, 0x59, 0x5a, 0x66, 0x64, 0x44, 0x0,
0x0, 0x23, 0x32, 0x1c, 0x66, 0x42, 0x42, 0x0,
0x0, 0x21, 0x11, 0x1a, 0xc, 0x8, 0x18, 0x0,
0x0, 0x3f, 0x6, 0xc, 0x30, 0x60, 0x7e, 0x0,
0x70, 0x40, 0x40, 0x40, 0x40, 0x40, 0x70, 0x0,
0x0, 0x0, 0x80, 0x40, 0x20, 0x10, 0x8, 0x0,
0x70, 0x10, 0x10, 0x10, 0x10, 0x10, 0x70, 0x0,
0x20, 0x50, 0x88, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf8, 0x0,
0x40, 0x20, 0x10, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x70, 0x8, 0x78, 0x88, 0x78, 0x0,
0x80, 0x80, 0xb0, 0xc8, 0x88, 0xc8, 0xb0, 0x0,
0x0, 0x0, 0x70, 0x88, 0x80, 0x88, 0x70, 0x0,
0x8, 0x8, 0x68, 0x98, 0x88, 0x98, 0x68, 0x0,
0x0, 0x0, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x0,
0x10, 0x28, 0x20, 0xf8, 0x20, 0x20, 0x20, 0x0,
0x0, 0x0, 0x68, 0x98, 0x98, 0x68, 0x8, 0x70,
0x80, 0x80, 0xf0, 0x88, 0x88, 0x88, 0x88, 0x0,
0x20, 0x0, 0x60, 0x20, 0x20, 0x20, 0x70, 0x0,
0x10, 0x0, 0x30, 0x10, 0x10, 0x10, 0x90, 0x60,
0x40, 0x40, 0x48, 0x50, 0x60, 0x50, 0x48, 0x0,
0x60, 0x20, 0x20, 0x20, 0x20, 0x20, 0x70, 0x0,
0x0, 0x0, 0xd0, 0xa8, 0xa8, 0xa8, 0xa8, 0x0,
0x0, 0x0, 0xb0, 0xc8, 0x88, 0x88, 0x88, 0x0,
0x0, 0x0, 0x70, 0x88, 0x88, 0x88, 0x70, 0x0,
0x0, 0x0, 0xb0, 0xc8, 0xc8, 0xb0, 0x80, 0x80,
0x0, 0x0, 0x68, 0x98, 0x98, 0x68, 0x8, 0x8,
0x0, 0x0, 0xb0, 0xc8, 0x80, 0x80, 0x80, 0x0,
0x0, 0x0, 0x78, 0x80, 0xf0, 0x8, 0xf0, 0x0,
0x40, 0x40, 0xf0, 0x40, 0x40, 0x48, 0x30, 0x0,
0x0, 0x0, 0x90, 0x90, 0x90, 0x90, 0x68, 0x0,
0x0, 0x0, 0x88, 0x88, 0x88, 0x50, 0x20, 0x0,
0x0, 0x0, 0x88, 0xa8, 0xa8, 0xa8, 0x50, 0x0,
0x0, 0x0, 0x88, 0x50, 0x20, 0x50, 0x88, 0x0,
0x0, 0x0, 0x88, 0x88, 0x98, 0x68, 0x8, 0x70,
0x0, 0x0, 0xf8, 0x10, 0x20, 0x40, 0xf8, 0x0,
0x18, 0x20, 0x20, 0x40, 0x20, 0x20, 0x18, 0x0,
0x20, 0x20, 0x20, 0x0, 0x20, 0x20, 0x20, 0x0,
0xc0, 0x20, 0x20, 0x10, 0x20, 0x20, 0xc0, 0x0,
0x40, 0xa8, 0x10, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x20, 0x50, 0xf8, 0x0, 0x0, 0x0,
0x70, 0x88, 0x80, 0x80, 0x88, 0x70, 0x20, 0x60,
0x0, 0x0, 0x18, 0x18, 0x3c, 0x3c, 0x24, 0x24,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x7c,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x60,
0x0, 0x0, 0x78, 0x78, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x7c, 0x7c, 0x60, 0x60, 0x60, 0x7c,
0x0, 0x0, 0x7c, 0x7c, 0x60, 0x60, 0x60, 0x7c,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x60, 0x60,
0x0, 0x0, 0x66, 0x66, 0x66, 0x66, 0x66, 0x7e,
0x0, 0x0, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
0x0, 0x0, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
0x0, 0x0, 0x66, 0x66, 0x6c, 0x6c, 0x78, 0x78,
0x0, 0x0, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
0x0, 0x0, 0xc3, 0xc7, 0xc7, 0xe7, 0xef, 0xef,
0x0, 0x0, 0x66, 0x66, 0x66, 0x76, 0x76, 0x7e,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x7e, 0x7e, 0x66, 0x66, 0x70, 0x30,
0x0, 0x0, 0x7e, 0x7e, 0x18, 0x18, 0x18, 0x18,
0x0, 0x0, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66,
0x0, 0x0, 0x46, 0x46, 0x66, 0x66, 0x64, 0x6c,
0x0, 0x0, 0x99, 0x99, 0xd9, 0xdd, 0xdd, 0xdd,
0x0, 0x0, 0x66, 0x66, 0x6c, 0x3c, 0x38, 0x38,
0x0, 0x0, 0x66, 0x66, 0x66, 0x6c, 0x2c, 0x3c,
0x0, 0x0, 0x7e, 0x7e, 0x6, 0xc, 0xc, 0xc,
0x0, 0x0, 0xe, 0xe, 0x1f, 0x1f, 0x1f, 0x1f,
0x0, 0x0, 0x38, 0x3c, 0x3c, 0x7c, 0x7e, 0xfe,
0x0, 0x0, 0x3f, 0xff, 0xff, 0xe0, 0xe0, 0xff,
0x0, 0x0, 0xfe, 0xff, 0xff, 0x7, 0x3, 0x83,
0x0, 0x0, 0x1e, 0x3c, 0x3c, 0xf8, 0xf0, 0xf0,
0x10, 0x20, 0x70, 0x8, 0x78, 0x88, 0x78, 0xff,
0x66, 0x66, 0x66, 0x7e, 0x7e, 0x66, 0x66, 0x0,
0x7c, 0x66, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x60, 0x60, 0x60, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x66, 0x66, 0x66, 0x66, 0x66, 0x7e, 0x78, 0x0,
0x7c, 0x60, 0x60, 0x60, 0x60, 0x7c, 0x7c, 0x0,
0x7c, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x0,
0x6e, 0x6e, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x7e, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x0,
0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x0,
0x6, 0x6, 0x66, 0x66, 0x66, 0x7c, 0x7c, 0x0,
0x70, 0x78, 0x78, 0x6c, 0x6c, 0x66, 0x66, 0x0,
0x60, 0x60, 0x60, 0x60, 0x60, 0x7c, 0x7c, 0x0,
0xfb, 0xfb, 0x0, 0x0, 0xd3, 0xc3, 0xc3, 0x0,
0x7e, 0x6e, 0x6e, 0x6e, 0x66, 0x66, 0x66, 0x0,
0x66, 0x66, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x7e, 0x7e, 0x60, 0x60, 0x60, 0x60, 0x60, 0x0,
0x66, 0x66, 0x6e, 0x6e, 0x66, 0x7e, 0x7e, 0x0,
0x7e, 0x78, 0x6c, 0x6c, 0x6e, 0x66, 0x66, 0x0,
0x18, 0xc, 0x6, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x0,
0x66, 0x66, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0,
0x2c, 0x3c, 0x3c, 0x38, 0x38, 0x18, 0x18, 0x0,
0xd5, 0xf7, 0x77, 0x77, 0x67, 0x66, 0x66, 0x0,
0x10, 0x38, 0x3c, 0x6c, 0x6c, 0x66, 0x66, 0x0,
0x38, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x0,
0x18, 0x18, 0x18, 0x30, 0x30, 0x7e, 0x7e, 0x0,
0x3f, 0x3f, 0x3b, 0x7b, 0x7b, 0x71, 0x71, 0x0,
0xfe, 0xfe, 0xff, 0xef, 0xe7, 0xe7, 0xc7, 0x0,
0xff, 0x7f, 0x0, 0x0, 0xff, 0xff, 0xff, 0x0,
0xc1, 0xe3, 0xe7, 0xe7, 0xef, 0xde, 0x9e, 0x0,
0xe0, 0xf0, 0xf8, 0xf8, 0x3c, 0x3e, 0x1e, 0x0,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xf0, 0xf0, 0xf0, 0xf0, 0xf, 0xf, 0xf, 0xf,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0x3c, 0x3c, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0,
0xf, 0xf, 0xf, 0xf, 0xf0, 0xf0, 0xf0, 0xf0,
0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3,
0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f,
0x11, 0x22, 0x44, 0x88, 0x11, 0x22, 0x44, 0x88,
0x88, 0x44, 0x22, 0x11, 0x88, 0x44, 0x22, 0x11,
0xfe, 0x7c, 0x38, 0x10, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0x10, 0x38, 0x7c, 0xfe,
0x80, 0xc0, 0xe0, 0xf0, 0xe0, 0xc0, 0x80, 0xff,
0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x66, 0x66,
0x0, 0x18, 0x18, 0x38, 0x18, 0x18, 0x18, 0x18,
0x0, 0x7e, 0x7e, 0x66, 0x66, 0x6, 0xc, 0x8,
0xf0, 0xf0, 0xf0, 0xf0, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xf, 0xf, 0xf, 0xf,
0xf, 0xf, 0xf, 0xf, 0xff, 0xff, 0xff, 0xff,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
0x33, 0x33, 0xcc, 0xcc, 0x33, 0x33, 0xcc, 0xcc,
0x0, 0x7e, 0x7e, 0x66, 0x66, 0x66, 0x7e, 0x3c,
0x20, 0x20, 0x70, 0x20, 0x70, 0x20, 0x20, 0xff,
0xff, 0xff, 0xff, 0x50, 0x88, 0xa8, 0x50, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0x68, 0x90, 0x90, 0x90, 0x68, 0xff,
0x30, 0x48, 0x48, 0x70, 0x48, 0x48, 0x70, 0xc0,
0xf8, 0x88, 0x80, 0x80, 0x80, 0x80, 0x80, 0xff,
0xf8, 0x50, 0x50, 0x50, 0x50, 0x50, 0x98, 0xff,
0xf8, 0x88, 0x40, 0x20, 0x40, 0x88, 0xf8, 0xff,
0xff, 0xff, 0x78, 0x90, 0x90, 0x90, 0x60, 0xff,
0xff, 0x50, 0x50, 0x50, 0x50, 0x68, 0x80, 0x80,
0xff, 0x50, 0xa0, 0x20, 0x20, 0x20, 0x20, 0xff,
0xf8, 0x20, 0x70, 0xa8, 0xa8, 0x70, 0x20, 0xf8,
0x20, 0x50, 0x88, 0xf8, 0x88, 0x50, 0x20, 0xff,
0x70, 0x88, 0x88, 0x88, 0x50, 0x50, 0xd8, 0xff,
0x30, 0x40, 0x40, 0x20, 0x50, 0x50, 0x50, 0x20,
0xff, 0xff, 0xff, 0x50, 0xa8, 0xa8, 0x50, 0xff,
0x8, 0x70, 0xa8, 0xa8, 0xa8, 0x70, 0x80, 0xff,
0x38, 0x40, 0x80, 0xf8, 0x80, 0x40, 0x38, 0xff,
0x70, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xff,
0x66, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0, 0x0,
0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x0, 0x0,
0x18, 0x10, 0x30, 0x60, 0x7e, 0x7e, 0x0, 0x0,
0x18, 0x60, 0x80, 0x60, 0x18, 0xff, 0xf8, 0xff,
0x10, 0x28, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xa0, 0x40,
0xff, 0x20, 0xff, 0xf8, 0xff, 0x20, 0xff, 0xff,
0xff, 0x50, 0xa0, 0xff, 0x50, 0xa0, 0xff, 0xff,
0x66, 0x66, 0x66, 0x66, 0x7e, 0x7e, 0x0, 0x0,
0xff, 0x30, 0x78, 0x78, 0x30, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0x30, 0xff, 0xff, 0xff,
0x3e, 0x20, 0x20, 0x20, 0xa0, 0x60, 0x20, 0xff,
0xa0, 0x50, 0x50, 0x50, 0xff, 0xff, 0xff, 0xff,
0x40, 0xa0, 0x20, 0x40, 0xe0, 0xff, 0xff, 0xff,
0xff, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff};

const unsigned char TILESET_COLOR[]={
0xe0, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
0xe0, 0xe6, 0xe6, 0xe6, 0xe6, 0xe6, 0xe6, 0xe6,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0xe0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0xe0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0x40, 0xe0, 0xe0, 0xe0, 0xe0,
0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
0xf6, 0xf6, 0xf6, 0xf6, 0xf6, 0xf6, 0xf6, 0xf6,
0x0, 0xf0, 0xf0, 0xfe, 0xfe, 0xfe, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0x0, 0x50, 0x0, 0x0, 0x0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf0, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0xf0, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf0, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0x40, 0x40, 0xf0, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0xf4, 0xf4, 0xf0, 0xf4, 0xf4, 0x40, 0x40,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0x0, 0xf0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0x0, 0x0, 0xf0, 0x0, 0x0,
0x0, 0x0, 0xf0, 0x0, 0x0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0x0, 0xf0, 0x0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0x0, 0x0, 0x0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0x0, 0x0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0,
0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0xf0, 0xf0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0x40, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf0, 0xf0, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0xf4, 0xf4, 0x40, 0x40, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x40, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
0x40, 0x40, 0x40, 0x40, 0xf0, 0xf0, 0xf0, 0xf0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf0, 0xf0, 0xf0, 0xf0, 0x40, 0x40, 0x40, 0x40,
0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0x40, 0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4,
0x40, 0xf4, 0x40, 0xf4, 0x40, 0xf4, 0x40, 0x40,
0x40, 0xf4, 0xf4, 0x40, 0xf4, 0xf4, 0x40, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x0, 0x0,
0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40,
0x40, 0x40, 0x40, 0x40, 0xf4, 0x40, 0x40, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40, 0x40,
0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40, 0x40, 0x40,
0x40, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0xf4, 0x40,
0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0};

const unsigned char GUI[]={
0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x9b,0x9c,0x9d,0x9e,0x9f,0x84,0x8f,0x90,0x85,0x97,0x81,0x92,0x93,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0xbb,0xbc,0xbd,0xbe,0xbf,0xaf,0xaf,0xb0,0xa5,0xb7,0xa1,0xb2,0xb3,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0
  };

const unsigned char INTRO[]={
0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0,
0x0, 0x1, 0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x4, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20, 0x2,0x20, 0x5,0x20,0x20,0x20,0x20,0x20, 0x5, 0xc, 0xc, 0xd,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20, 0x2, 0x3, 0x6, 0x3, 0x3, 0x3, 0x3, 0x3, 0x6, 0xc, 0xc, 0xd, 0xe, 0xf, 0xf, 0xf, 0xf, 0xf,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20, 0x2,0x20, 0x5,0x20, 0x9, 0xa, 0xb,0x20, 0x5, 0xc, 0xc, 0xd,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x5, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x84,0x8f,0x90,0x85,0x20,0x97,0x81,0x92,0x93,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xa4,0xaf,0xb0,0xa5,0x20,0xb7,0xa1,0xb2,0xb3,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x90,0x95,0x93,0x88,0x20,0x93,0x90,0x81,0x83,0x85,0x20,0x94,0x8f,0x20,0x93,0x94,0x81,0x92,0x94,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0xb0,0xb5,0xb3,0xa8,0x20,0xb3,0xb0,0xa1,0xa3,0xa5,0x20,0xb4,0xaf,0x20,0xb3,0xb4,0xa1,0xb2,0xb4,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0xd2,0xd0,0xd2,0xd2,0x20,0x81,0x8e,0x94,0x98,0x89,0x8b,0x8f,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x20,0x20,0x20,0x20,0xf2,0xf0,0xf2,0xf2,0x20,0xa1,0xae,0xb4,0xb8,0xa9,0xab,0xaf,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0,
0x0, 0x1,0x20,0x54,0x48,0x41,0x4e,0x4b,0x53,0x3a,0x41,0x4f,0x52,0x41,0x4e,0x54,0x45,0x2c,0x4e,0x45,0x53,0x54,0x52,0x55,0x4f,0x20,0x26,0x20,0x20,0x20, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x41,0x4c,0x55,0x43,0x41,0x52,0x44,0x58,0x20,0x20,0x20,0x20,0x20,0x20,0x20, 0x1, 0x0, 0x1, 0x0,
0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1,
0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0, 0x1, 0x0
};

char _LineLength;  //sprites per line. TMS9918=4; V9938=8

char spr_posX[8];
char spr_posY[8];
char dir=0;
signed char button=0;
const char sprcol[8]={12,2,3,7,6,8,9,14};
const char SPRITE_DATA8x8[]={
60,66,165,129,165,153,66,60,
60,126,219,255,255,219,102,60,
108,254,254,254,124,56,16,0,
16,56,124,254,124,56,16,0,
16,56,84,254,84,16,56,0,
16,56,124,254,254,16,56,0,
0,0,0,24,24,0,0,0,
0,4,254,255,255,254,4,0
};



void main(void)
{
  inicializar(); 
}

void inicializar() 
{
int s;
  for (s=0; s<8; ++s){
    stock[s] = 0;
  }
      int a;
        for (a=0;a<8;++a)
          {
         int b;
         int c;
          c = (ran100()/10);
          b = ran100();
          camello[a] = (b / camelloVAR[a]) + c;
          }
  bar = 0;
  dinero = 3000;
  deuda = 3000;
  vida = 100;
  municion = 0;
  navaja = false;
  cadena = false;
  pistola = false;
  botiquin = false;
  soplon = false;
  mochila = false;
  rastroOk = false;
  secretaPosible = false;
  haySecreta = false;

  setSprites8x8Patterns();
  initSprites();
 
  COLOR(15,1,1);
  SCREEN(2);
  
  //copy to VRAM tileset,  gfx patterns y coloreh
  CopyToVRAM((uint) TILESET_FONT,BASE12,255*8);
  CopyToVRAM((uint) TILESET_FONT,BASE12+BANK1,255*8);
  CopyToVRAM((uint) TILESET_FONT,BASE12+BANK2,255*8); 
  
  CopyToVRAM((uint) TILESET_COLOR,BASE11,255*8);
  CopyToVRAM((uint) TILESET_COLOR,BASE11+BANK1,255*8);
  CopyToVRAM((uint) TILESET_COLOR,BASE11+BANK2,255*8); 

  CopyToVRAM((uint) INTRO,BASE10,96*8);

  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);
    int fecharan;
    fecharan = ((ran100()*7)/100);
    fecha = fecharan;
    if (button < 0)
    {
    CLS();
    WAIT(10);
    menuPrincipal();
    } 
  }

}

void BARRIO()
{
  switch (barrioPartida)
  {
  case 1:
  if (dia < 20) 
  {
    secretaPosible = true;
  }
    break;
  case 2:
  if (dia < 80) 
  {
    secretaPosible = true;
  }
  break;
  case 3:
  if (dia < 355) 
  {
    secretaPosible = true;
  }
  default:
    break;
  }
  if (soplon == true && haySecreta == true){
    CLS();
    VPRINT(0,0,"CUIDADO, HAY SECRETA!");
    VPRINT(0,1,"NO COMERCIES!");
    soplon = false;
    WAIT(200);
  }

  if (bar == 6){
    hospital();
  }
  if (bar == 7){
    prestamista();
  }
  if (vida<10){
    CLS();
    VPRINT(0,0,"GAMEOVER");
    WAIT(500);
    inicializar();
  }
  if (dia == 0 && deuda > 0){
    CLS();
    VPRINT(0,0,"GAMEOVER");
    WAIT(500);
    inicializar();
  }
  
  WAIT(15);
  int CURSOR = 0;
  CopyToVRAM((uint) GUI,BASE10,96*8);
  VPRINT (3,1, "Barrio: ");
  imprimeBarrio(bar,barrioPartida);
  VPRINT (19,1, "Dia: ");
  VPRINTNUMBER(24,1,3, dia);
  VPRINT (3,2, "Dinero: ");
  VPRINTNUMBER (11,2, 5, dinero);
  VPRINT (19,2, "Deuda: ");
  VPRINTNUMBER(25,2,5, deuda);
  VPRINT (3,3, "Vida: ");
  VPRINTNUMBER(9,3,3, vida);


  VPRINT (4,22, "COMERCIAR");
  VPRINT (15,22,"VIAJAR");
  VPRINT (23,22,"STOCK");
  VPRINT (2,18,diasSEMANA[fecha]);
  
  if (fecha == rastroDia[bar]){
    VPRINT(16,18,"RASTRO");
    rastroOk = true;
  }
  else {
    rastroOk = false;
  }
  
  DRUGS ();
  char cr = 15;
  int b = bar;
  int c;
  int ras = 0;

  for (c = 0; c < 8; ++c)
  {
  VPRINTNUMBER(15,6+c,5,precioBARRIO[c]);
  }
  
    PUTSPRITE(0, posX[CURSOR], 174, 8, 7);
    while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);

    
    if (dir == 1 && rastroOk == true){
      PUTSPRITE(0, 120, 142, 8, 7);
      ras = 1;
    }
    if (dir == 5){
      PUTSPRITE(0, posX[CURSOR], 174, 8, 7);
      ras = 0;
    }
    if (dir == 3){
      CURSOR = CURSOR + 1;
        if (CURSOR == 3){
          CURSOR=2;
        }
        WAIT(10);
        PUTSPRITE(0, posX[CURSOR], 174, 8, 7);
    }
    if (dir == 7)
    {
      CURSOR = CURSOR - 1;
        if (CURSOR < 0)
        {
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, posX[CURSOR], 174, 8, 7);
    }
    if (button < 0 && rastroOk == true && ras == 1)
    {
    rastro();
    }
    if (button < 0 && CURSOR == 2 && ras == 0)
    {
      STOCK();
    }
    if (button < 0 && CURSOR == 1 && ras == 0){
      VIAJAR();
    }
    if (button < 0 && CURSOR == 0 && ras == 0)
    {
    COMERCIAR();
    }
  }
}

void menuPrincipal(){

 CURSOR = 0;
 CLS();
 
 //imprimeIcono(0,0,0);
 VPRINT(8,0,"MENU PRINCIPAL");
 VPRINT(8,8,"MSX DOPE WARS");
 VPRINT(9,13,"ELIGE CIUDAD");
 VPRINT(3,15,"BILBAO MADRID NEW YORK");
 PUTSPRITE(0, posXmenu[CURSOR], 118, 8, 7);
    while(1)
    {
    HALT;
    
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);

    if (dir == 3){
      CURSOR = CURSOR + 1;
        if (CURSOR == 3){
          CURSOR=2;
        }
        WAIT(10);
        PUTSPRITE(0, posXmenu[CURSOR], 118, 8, 7);
    }
    if (dir == 7)
    {
      CURSOR = CURSOR - 1;
        if (CURSOR < 0)
        {
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, posXmenu[CURSOR], 118, 8, 7);
    }
    if (button < 0 && CURSOR == 0)
    {
    WAIT(10);
    dia = 31;
    barrioPartida = 1;
    PRECIOS(bar);
    stockCamello();
    BARRIO();
    }
    if (button < 0 && CURSOR == 1)
    {
    WAIT(10);
    dia = 90;
    barrioPartida = 2;
    PRECIOS(bar);
    stockCamello();
    BARRIO();
    }
    if (button < 0 && CURSOR == 2)
    {
    WAIT(10);
    dia = 365;
    barrioPartida = 3;
    PRECIOS(bar);
    stockCamello();
    BARRIO();
    }
  }
}

void COMERCIAR()
{ 
  CURSOR = 0;

  CLS();
  CopyToVRAM((uint) GUI,BASE10,96*8);
  DRUGS();
  printCAMEL();
  VPRINT (3,2, "Dinero: ");
  VPRINTNUMBER (11,2, 5, dinero);
  int c;
  for (c = 0; c < 8; ++c)
  {
  VPRINTNUMBER(21,6+c,5,precioBARRIO[c]);
  }
  WAIT(10);

  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);
    PUTSPRITE(0,20,posY[CURSOR], 8, 7);
    if (dir == 3){
      if (stock[CURSOR] > 0)
      {
        if (haySecreta == true){
          CLS();
          VPRINT(0,0,"ES UN SECRETA!");
          VPRINT(0,0,"DROGAS REQUISADAS Y 3 DIAS DE CARCEL");
          WAIT(200);
          calcDeuda();
          dia = dia - 3;
          haySecreta = false;
          int d;
          for (d=0;d<8;++d)
            {
            stock[d] = 0;
            }
          PRECIOS(bar);
          stockCamello();
          diaSemana();
          BARRIO();
        }
        stock[CURSOR] = stock[CURSOR]- 1;
        camello[CURSOR] = camello[CURSOR] +1;
        dinero = (dinero + precioBARRIO[CURSOR]);
        printCAMEL();
        VPRINT (3,2, "Dinero: ");
        VPRINTNUMBER (11,2, 5, dinero);
        WAIT(10);
      }
    }
    if (dir == 7){
      if (camello[CURSOR] > 0 && dinero>precioBARRIO[CURSOR])
      {
        if (haySecreta == true){
          CLS();
          VPRINT(0,0,"ES UN SECRETA!");
          VPRINT(0,0,"DROGAS REQUISADAS Y 3 DIAS DE CARCEL");
          WAIT(200);
          calcDeuda();
          dia = dia - 3;
          haySecreta = false;
          int d;
          for (d=0;d<8;++d)
            {
            stock[d] = 0;
            }
          PRECIOS(bar);
          stockCamello();
          diaSemana();
          BARRIO();
        }
        stock[CURSOR] = stock[CURSOR]+ 1;
        camello[CURSOR] = camello[CURSOR] -1;
        dinero = (dinero - precioBARRIO[CURSOR]);
        printCAMEL();
        VPRINT (3,2, "Dinero: ");
        VPRINTNUMBER (11,2, 5, dinero);
        WAIT(10);
      }
    }
    if (dir == 1){
      CURSOR = CURSOR - 1;
        if (CURSOR < 0){
          CURSOR = 0;
        }
        WAIT(10);
        PUTSPRITE(0,20,posY[CURSOR], 8, 7);
    }
    if (dir == 5){
      CURSOR = CURSOR + 1;
        if (CURSOR > 7){
          CURSOR=7;
        }
        WAIT(10);
        PUTSPRITE(0,20,posY[CURSOR], 8, 7);
    }
    if (button < 0)
    {
      CLS();
      WAIT(15);
      BARRIO();
    }
  }
}

void STOCK()
{
  CLS();
  CopyToVRAM((uint) GUI,BASE10,96*8);
  DRUGS();
  int c;
  for (c = 0; c < 8; ++c)
  {
  VPRINTNUMBER(15,6+c,2,stock[c]);
  }
  WAIT(15);

  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    
    button=STRIG(KEYBOARD_BUTTON);

    PUTSPRITE(0, posX[CURSOR], 174, 8, 7);
    if (button < 0)
    {
      CLS();
      BARRIO();
    }
  }
}

void VIAJAR()
{
  CLS();
  CopyToVRAM((uint) GUI,BASE10,96*8);
  CURSOR = 0;
  int d;
  for (d = 0; d < 6; ++d)
  {
  
  switch (barrioPartida)
  {
  case 1:
    VPRINT(10,6+d,bilbao[d]);
    break;
  case 2:
    VPRINT(10,6+d,madrid[d]);
    break;
  case 3:
    VPRINT (10,6+d,newyork[d]);
    break;
  default:
    break;
  }
  }
  VPRINT(10,12,"Hospital");
  VPRINT(10,13,"Prestamista");
  WAIT(10);

  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    
    button=STRIG(KEYBOARD_BUTTON);

    PUTSPRITE(0,70,posY[CURSOR], 8, 7);
    
    if (dir == 1){
      CURSOR = CURSOR - 1;
        if (CURSOR < 0){
          CURSOR = 0;
        }
        WAIT(10);
        PUTSPRITE(0,70,posY[CURSOR], 8, 7);
    }
    if (dir == 5){
      CURSOR = CURSOR + 1;
        if (CURSOR > 7){
          CURSOR=7;
        }
        WAIT(10);
        PUTSPRITE(0,70,posY[CURSOR], 8, 7);
    }
    if (button < 0)
    {
      bar = CURSOR;
      char r;
      r = ran100();
      if (r<56){
        dia = dia - 1;
        calcDeuda();
        CLS();
        PRECIOS(bar);
        diaSemana();
        checkSecreta();
        BARRIO();
        WAIT(50);
      }
      if (r<71 && r>55)
      {
        CLS();
        VPRINT(0,0,"JONKI!!!!");
        WAIT(100);
        JONKI();
      }
      if (r<81 && r>70)
      {
        CLS();
        VPRINT(0,0,"POLICIA!!!!");
        WAIT(100);
        POLICIA();
      }
      if (r<91 && r>80)
      {
        CLS();
        VPRINT(0,0,"OVERFLOW");
        WAIT(100);
        bar = CURSOR;
        dia = dia - 1;
        calcDeuda();
        CLS();
        PRECIOS(bar);
        overflow();
        diaSemana();
        checkSecreta();
        BARRIO();
      }
      if (r>90)
      {
        CLS();
        VPRINT(0,0,"UNDERFLOW");
        WAIT(100);
        bar = CURSOR;
        dia = dia - 1;
        calcDeuda();
        CLS();
        PRECIOS(bar);
        underflow();
        diaSemana();
        checkSecreta();
        BARRIO();
      }
    }
  }
}

void DRUGS(){
  int d;
  for (d = 0; d < 8; ++d){
  VPRINT(4,6+d,drugs[d]);
  }
}

void PRECIOS(int barrio){
  int c;
  for (c = 0; c < 8; ++c)
  {
  precioTEMP[c] = disp[barrio][c];
  }
  for (c = 0; c < 8; ++c)
  {
    char r;
    r = getR();
    if (r<64)
    {
    precioBARRIO[c] = precioTEMP[c] + precioVAR[c];
    int br;
    br = ((ran100()*3)/100)*precioVAR[c];
    precioBARRIO[c] = precioBARRIO[c] + br;
    }
    if (r>64)
    {
    precioBARRIO[c] = precioTEMP[c] - precioVAR[c];
    int br;
    br = ((ran100()*3)/100)*precioVAR[c];
    precioBARRIO[c] = precioBARRIO[c] - br;  
    }
  }
}

void JONKI () {
  CLS();
  CURSOR = 0;
  vidaJonki=50;
  VPRINT(1,3,"ATACAR");
  VPRINT(8,3,"INTENTAR ESCAPAR");
  PUTSPRITE(0, 0, 24, 8, 7);

  while(1)
    {
    HALT;
    //------------------------- cursor keys
    dir = STICK(CURSORKEYS);
    
    button=STRIG(KEYBOARD_BUTTON);
    if (dir == 3){
      CURSOR = CURSOR + 1;
        if (CURSOR > 1)
        {
          CURSOR=1;
        }
        WAIT(20);
        PUTSPRITE(0, 56, 24, 8, 7);
    }
    if (dir == 7)
    {
      CURSOR = CURSOR - 1;
        if (CURSOR < 0)
        {
          CURSOR=0;
        }
        WAIT(20);
        PUTSPRITE(0, 0, 24, 8, 7);
    }
    if (button < 0 && CURSOR == 0){
      CLS();
      VPRINT(0,0,"ATACAS");
      WAIT(50);
      break;
    }
    if (button < 0 && CURSOR == 1)
    {
      CLS();
      r = ran100();
        if (r<75){ //75% Y SE CONSIGUE ESCAPAR
        CLS();
        VPRINT(0,0,"CONSIGUES ESCAPAR");
        WAIT(200);
        dia = dia -1;
        calcDeuda();
        stockCamello();
        PRECIOS(bar);
        diaSemana();
        checkSecreta();
        BARRIO();
        }
    else { //25% PARA QUE EL JONKI GANE
      CLS();
      VPRINT(0,0,"NO ESCAPAS, MOJADA DEL JONKI");
      WAIT(200);
      vida = vida -50;
      calcDeuda();
      stockCamello();
      PRECIOS(bar);
      diaSemana();
      checkSecreta();
      BARRIO();
      }
    }
  }

  if (pistola == true){ // SI TENEMOS PISTOLA LE DISPARAMOS Y GANAMOS
    CLS();
    VPRINT(0,0,"DISPARAS LA JONKI");
    r = ((ran100()*4)/100);
    if (r<1){ r = 1;
    }
    int rr = ((ran100()*8)/100);
    int d = ran100();
    VPRINT(0,1,"EL JONKI LLEVA ");
    VPRINTNUMBER(15,1,1,r);
    VPRINT(17,1,"DE ");
    VPRINT(21,1,drugs[rr]);
    VPRINT(0,2,"Y ");
    VPRINTNUMBER(2,2,3,d);
    VPRINT(6,2,"DE DINERO");
    dinero = dinero + d;
    stock[rr] = stock[rr] + r;
    dia = dia -1;
    calcDeuda();
    stockCamello();
    WAIT(200);
    PRECIOS(bar);
    diaSemana();
    checkSecreta();
    BARRIO();
  }
  else { // NO TENEMOS PISTOLA, PELEAMOS
    r = ran100();
    if (r<50){ //MENOS DE 50 GANAS AL JONKI
      CLS();
      VPRINT(0,0,"LE PEGAS UNA HOSTIA AL JONKI");
      r = ((ran100()*4)/100);
      if (r<1){ r = 1;
      }
      int rr = ((ran100()*7)/100);
      int d = ran100();
      VPRINT(0,1,"EL JONKI LLEVA ");
      VPRINTNUMBER(15,1,1,r);
      VPRINT(17,1,"DE ");
      VPRINT(21,1,drugs[rr]);
      VPRINT(0,2,"Y ");
      VPRINTNUMBER(2,2,3,d);
      VPRINT(6,2,"DE DINERO");
      dinero = dinero + d;
      stock[rr] = stock[rr] + r;
      dia = dia -1;
      calcDeuda();
      stockCamello();
      WAIT(200);
      PRECIOS(bar);
      diaSemana();
      checkSecreta();
      BARRIO();
    }
    else { //MAS DE 50 EL JONKI TE ACUCHILLA
      CLS();
      VPRINT(0,0,"EL JONKI TE PEGA UNA MOJADA");
      WAIT(200);
      dia = dia -1;
      vida = vida -50;
      PRECIOS(bar);
      calcDeuda();
      stockCamello();
      diaSemana();
      checkSecreta();
      BARRIO();
    }
  }
}

void POLICIA() {
  CLS();
  CURSOR = 0;
  vidaPoli=50;
  VPRINT(1,3,"ATACAR");
  VPRINT(8,3,"ESCAPAR");
  VPRINT(16,3,"SOBORNAR");
  PUTSPRITE(0,posXPOLI[CURSOR], 24, 8, 7);

  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);
    if (dir == 3)
      {
      CURSOR = CURSOR + 1;
        if (CURSOR > 2)
        {
          CURSOR=2;
        }
        WAIT(20);
        PUTSPRITE(0, posXPOLI[CURSOR], 24, 8, 7);
      }
    if (dir == 7)
      {
      CURSOR = CURSOR - 1;
        if (CURSOR < 0)
        {
          CURSOR=0;
        }
        WAIT(20);
        PUTSPRITE(0, posXPOLI[CURSOR], 24, 8, 7);
      }
    if (button < 0 && CURSOR == 0)
      {
      CLS();
      VPRINT(0,0,"ATACAS");
      WAIT(50);
      if (pistola == true)
        {//CON PISTOLA
        CLS();
        int r = ran100();
        if (r<75)
          { //GANAS AL 75%
          CLS();
          VPRINT(0,0,"LLEVAS PISTOLA Y GANAS");
          dia = dia -1;
          PRECIOS(bar);
          calcDeuda();
          stockCamello();
          WAIT(200);
          diaSemana();
          checkSecreta();
          BARRIO();
          }
        if (r>74)
          { //PIERDES AL 25%
          CLS();
          VPRINT(0,0,"LLEVAS PISTOLA Y PIERDES");
          WAIT(200);
          vida = vida - 50;
          dia = dia -1;
          calcDeuda();
          stockCamello();
          PRECIOS(bar);
          diaSemana();
          checkSecreta();
          BARRIO();
          }
        }
        if (pistola == false){
          CLS();
          VPRINT(0,0,"NO LLEVAS PISTOLA, TE PEGA UN TIRO");
          VPRINT(0,1,"PERO CONSIGUES ESCAPAR");
          WAIT(200);
          vida = vida - 50;
          dia = dia -1;
          calcDeuda();
          stockCamello();
          PRECIOS(bar);
          diaSemana();
          checkSecreta();
          BARRIO();
        }
      }
    if (button < 0 && CURSOR == 1)
      {
      CLS();
      int r = ran100();
        if (r<50)
          { //50% Y SE CONSIGUE ESCAPAR
          CLS();
          VPRINT(0,0,"CONSIGUES ESCAPAR");
          WAIT(200);
          calcDeuda();
          stockCamello();
          PRECIOS(bar);
          diaSemana();
          checkSecreta();
          BARRIO();
          }
        else 
          { //50% PARA QUE EL POLI GANE Y ATAQUE
          CLS();
          VPRINT(0,0,"NO ESCAPAS, 3 DIAS EN LA CARCEL Y DROGA REQUISADA");
          WAIT(200);
          calcDeuda();
          dia = dia - 3;
          int d;
          for (d=0;d<8;++d)
            {
            stock[d] = 0;
            }
          PRECIOS(bar);
          stockCamello();
          diaSemana();
          checkSecreta();
          BARRIO();
          }
      }
    if (button < 0 && CURSOR == 2)
      {
      CLS();
      SOBORNO();
      }
    }
  }

void SOBORNO() 
{
CURSOR = 0;
VPRINT(0,0,"SOBORNAS");
WAIT(50);
r = ran100();
int rr = ran100();
int rrr = ran100();
int rf = (r + rr) - rrr;
VPRINT(0,1,"EL POLI QUIERE ");
VPRINTNUMBER(16,1,3,rf);
VPRINT(20,1,"DINEROS");
VPRINT(0,3,"LO PAGAS?");
VPRINT(1,4,"SI");
VPRINT(4,4,"NO");
PUTSPRITE(0, 0,32, 8, 7);
  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);
    if (dir == 3)
    {
      CURSOR = CURSOR + 1;
        if (CURSOR > 1)
        {
          CURSOR=1;
        }
        WAIT(10);
        PUTSPRITE(0, 24, 32, 8, 7);
    }
    if (dir == 7)
    {
      CURSOR = CURSOR - 1;
        if (CURSOR < 0)
        {
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, 0, 32, 8, 7);
    }
    if (button < 0 && CURSOR == 0)
      {
      dinero = dinero - rf;
      dia = dia -1;
      calcDeuda();
      stockCamello();
      PRECIOS(bar);
      diaSemana();
      checkSecreta();
      BARRIO();
      }
    if (button < 0 && CURSOR == 1)
      {
      CLS();
      VPRINT(0,0,"POR NO PAGAR: 3 DIAS EN CARCEL Y DROGAS REQUISADAS");
      WAIT(200);
      calcDeuda();
      stockCamello();
      dia = dia - 3;
      int d;
      for (d=0;d<8;++d)
        {
        stock[d] = 0;
        }
      PRECIOS(bar);
      diaSemana();
      checkSecreta();
      BARRIO();
      }
  }
}

void hospital() {

  int CURSOR = 0;

  CopyToVRAM((uint) GUI,BASE10,96*8);
  VPRINT (3,1, "Barrio: ");
  imprimeBarrio(bar,barrioPartida);
  VPRINT (19,1, "Dia: ");
  VPRINTNUMBER(24,1,2, dia);
  VPRINT (3,2, "Dinero: ");
  VPRINTNUMBER (11,2, 5, dinero);
  VPRINT (19,2, "Deuda: ");
  VPRINTNUMBER(25,2,5, deuda);
  VPRINT (3,3, "Vida: ");
  VPRINTNUMBER(9,3,3, vida);
  VPRINT (6,22,"VIAJAR");

  VPRINT(6,6,"CURAR 10 DE VIDA   30");
  VPRINT(6,7,"CURAR 100 DE VIDA 250");
  VPRINT(6,8,"BOTIQUIN PORTATIL 500");

  while(1)
    {
    HALT;
    //------------------------- cursor keys
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);

    PUTSPRITE(0, 40, posYHOSPI[CURSOR], 8, 7);
    if (dir == 1){
      CURSOR = CURSOR - 1;
        if (CURSOR < 0){
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYHOSPI[CURSOR], 8, 7);
    }
    if (dir == 5)
    {
      CURSOR = CURSOR + 1;
        if (CURSOR > 3)
        {
          CURSOR=3;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYHOSPI[CURSOR], 8, 7);
    }
    if (button < 0 && CURSOR == 0 && vida < 100 && dinero > 30)
    {
      vida = vida + 10;
      dinero = dinero - 30;
      VPRINTNUMBER (11,2, 5, dinero);
      VPRINTNUMBER(9,3,3, vida);
      WAIT(10);
    }
    if (button < 0 && CURSOR == 1 && vida < 100 && dinero > 250)
    {
      dinero = dinero - 250;
      vida = 100;
      VPRINTNUMBER (11,2, 5, dinero);
      VPRINTNUMBER(9,3,3, vida);
      WAIT(10);
    }
    if (button < 0 && CURSOR == 2 && botiquin == false && dinero > 500)
    {
      dinero = dinero - 500;
      botiquin = true;
      VPRINTNUMBER (11,2, 5, dinero);
    }
    if (button < 0 && CURSOR == 3)
    {
      VIAJAR();
    }
  }
}

void prestamista() {

  int CURSOR = 0;
  CopyToVRAM((uint) GUI,BASE10,96*8);
  VPRINT (3,1, "Barrio: ");
  imprimeBarrio(bar,barrioPartida);
  VPRINT (19,1, "Dia: ");
  VPRINTNUMBER(24,1,2, dia);
  VPRINT (3,2, "Dinero: ");
  VPRINTNUMBER (11,2, 5, dinero);
  VPRINT (19,2, "Deuda: ");
  VPRINTNUMBER(25,2,5, deuda);
  VPRINT (3,3, "Vida: ");
  VPRINTNUMBER(9,3,3, vida);
  VPRINT (6,22,"VIAJAR");

  VPRINT(6,6,"PAGAR / PEDIR DEUDA");
  VPRINT(6,7,"COMPRAR PISTOLA     500");
  VPRINT(6,8,"TELEFONO DE SOPLON  500");
  VPRINT(6,9,"MOCHILA             500");
  VPRINT(6,10,"COMPRAR MUNICION     50");

  VPRINT(6,15,"MUNICION:");
  VPRINTNUMBER(15,15,2,municion);

  while(1)
    {
    HALT;
    //------------------------- cursor keys
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);

    PUTSPRITE(0, 40, posYpresta[CURSOR], 8, 7);
    if (dir == 3 && CURSOR == 0)
    {
      deuda = deuda + 100;
      dinero = dinero + 100;
      VPRINTNUMBER(25,2,5, deuda);
      VPRINTNUMBER (11,2, 5, dinero);
      WAIT(10);
    }
    if (dir == 7 && CURSOR == 0 && dinero > 100)
    {
      if (deuda < 100){
        dinero = dinero - deuda;
        deuda = 0;
      }
      if (deuda > 100)
      {
        dinero = dinero -100;
        deuda = deuda - 100;
      }
      VPRINTNUMBER(25,2,5, deuda);
      VPRINTNUMBER (11,2, 5, dinero);
      WAIT(10);
    }
    
    if (dir == 1){
      CURSOR = CURSOR - 1;
        if (CURSOR < 0){
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYpresta[CURSOR], 8, 7);
    }
    if (dir == 5)
    {
      CURSOR = CURSOR + 1;
        if (CURSOR > 5)
        {
          CURSOR=5;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYpresta[CURSOR], 8, 7);
    }

    if (button < 0 && CURSOR == 1 && pistola == false && dinero > 500)
    {
      dinero = dinero - 500;
      pistola = true;
      VPRINTNUMBER(11,2, 5, dinero);
      WAIT(10);
    }

    if (button < 0 && CURSOR == 2 && soplon == false && dinero > 500)
    {
      dinero = dinero - 500;
      soplon = true;
      VPRINTNUMBER(11,2, 5, dinero);
      WAIT(10);
    }

    if (button < 0 && CURSOR == 3 && mochila == false && dinero > 500)
    {
      dinero = dinero - 500;
      mochila = true;
      VPRINTNUMBER(11,2, 5, dinero);
      WAIT(10);
    }

    if (button < 0 && CURSOR == 4 && dinero > 50)
    {
      dinero = dinero - 50;
      municion = municion + 1;
      VPRINTNUMBER(11,2, 5, dinero);
      VPRINTNUMBER(15,15,2,municion);
      WAIT(10);
    }
    
    if (button < 0 && CURSOR == 5)
    {
    VIAJAR();
    }
  }
}

void printCAMEL()
{
  int c;
  for (c = 0; c < 8; ++c)
  {
  VPRINTNUMBER(15,6+c,2,stock[c]);
  }
  for (c = 0; c < 8; ++c)
  {
  VPRINTNUMBER(18,6+c,2,camello[c]);
  }
}

void LOCATE(char x, char y)
{
x;y;
__asm
  push IX
  ld   IX,#0
  add  IX,SP

  ld   A,4(IX) ;x
  inc  A       ;incrementa las posiciones para que se situen correctamente en la pantalla
  ld   H,A
  ld   A,5(IX) ;y
  inc  A
  ld   L,A

  call POSIT

  pop  IX
__endasm;

}

void WAIT(uint cicles)
{
  uint i;
  for(i=0;i<cicles;i++) HALT;
}

char PEEK(uint address)
{
address;
__asm
  push IX
  ld   IX,#0
  add  IX,SP

  ld   L,4(ix)
  ld   H,5(ix)
  ld   A,(hl)

  ld   L,A

  pop  IX
__endasm;
return address;
}

void POKE(uint address, char value)
{
address;value;
__asm
  push IX
  ld   IX,#0
  add  IX,SP

  ld   L,4(ix)
  ld   H,5(ix)
  ld   A,6(ix)
  ld   (HL),A

  pop  IX
__endasm;
}

void CLS()
{
  FillVRAM(BASE10, 0x300, 32);
}

void VPOKEARRAY(uint vaddr, char* text)
{
  while(*(text)) VPOKE(vaddr++,*(text++));
}

void VPRINTNUMBER(char column, char line, char pLength, uint pNumber)
{
  uint vaddr = BASE10 + (line*32) + column // calcula la posicion en la VRAM...
                 + pLength - 1; // ...empezando por el dgito ms a la derecha
  char length = pLength;
  uint number = pNumber;
  
  // Mientras queden dgitos por pintar...
  while (length) {
  
    // Pinta un dgito
    uint digit = number % 10; // Calcula el ltimo digito (resto de la divisin entre 10)
    char digitAscii = '0' + ((char) digit); // Convierte el dgito en su cdigo ASCII de nmero
    VPOKE(vaddr, digitAscii); // Pinta el dgito
    
    // Se mueve al siguiente dgito
    length--; // Descuenta el dgito que acabamos de pintar
    vaddr--; // El siguiente dgito se pintar un caracter ms hacia la izquierda
    number = number / 10; // Divide entre 10 para "avanzar" en el nmero
 }
}

void setSprites8x8Patterns()
{
  HALT;
  CopyToVRAM((uint) SPRITE_DATA8x8,BASE14,8*8);
}

void initSprites()
{
  char X=0,Y=3;
  char i=0;
  
  for(i=0;i<8;i++)
  {
    spr_posX[i]=X*32;
    spr_posY[i]=Y*32;
    X++;
    if(X==_LineLength)
    {
      X=0;
      Y++;
    }
  }
}

char getR()
{
__asm

  ld   A,R  
  ld   L,A ;return L
   
__endasm;
}

int ran100() {
  int a;
  int b = getR();
  a = ((b*100)/128);
  return a;
}

void calcDeuda() {
  int t;
  t = ((deuda / 100)*4);
  deuda = deuda + t;
}

void stockCamello() {
  int a;
        for (a=0;a<8;++a)
        {
        int b;
        int c;
        c = (ran100()/10);
        b = ran100();
        camello[a] = (b / camelloVAR[a]) + c;
        }
}

void overflow(){
int o;
o = ((ran100()*8)/100);
precioBARRIO[o] = precioBARRIO[o]/2;
CLS();
VPRINT(0,0,"DROGA: ");
VPRINT(7,0,drugs[o]);
VPRINTNUMBER(0,1,5,precioBARRIO[o]);
WAIT(50);
}

void underflow(){
int o;
o = ((ran100()*8)/100);
precioBARRIO[o] = precioBARRIO[o]*2;
CLS();
VPRINT(0,0,"DROGA: ");
VPRINT(7,0,drugs[o]);
VPRINTNUMBER(0,1,5,precioBARRIO[o]);
WAIT(50);
}

void diaSemana(){
  fecha = fecha + 1;
  if (fecha > 6){
    fecha = 0;
  }
}

void rastro() {

  int rd = ((ran100()*7)/100);
  int rc = ((ran100()*10)/100);
  int pdr = ((disp[bar][rd])/3);
  int rdc = 0;
  if (rc == 0)
  {
    rc = 1;
  }
  int CURSOR = 0;
  CopyToVRAM((uint) GUI,BASE10,96*8);
  VPRINT (3,1, "Barrio: ");
  imprimeBarrio(bar,barrioPartida);
  VPRINT (19,1, "Dia: ");
  VPRINTNUMBER(24,1,2, dia);
  VPRINT (3,2, "Dinero: ");
  VPRINTNUMBER (11,2, 5, dinero);
  VPRINT (19,2, "Deuda: ");
  VPRINTNUMBER(25,2,5, deuda);
  VPRINT (3,3, "Vida: ");
  VPRINTNUMBER(9,3,3, vida);
  VPRINT (6,22,"VIAJAR");

  VPRINT(6,6,"NAVAJA OXIDADA      100");
  VPRINT(6,7,"CADENAS DE MOTO     200");
  VPRINT(6,8,drugs[rd]);
  VPRINTNUMBER (20,8,1,rc);
  VPRINTNUMBER (24,8,5,pdr);

  PUTSPRITE(0, 40, posYpresta[CURSOR], 8, 7);
  while(1)
    {
    HALT;
    //------------------------- cursor keys
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);

    
    
    if (dir == 1){
      CURSOR = CURSOR - 1;
        if (CURSOR < 0){
          CURSOR=0;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYrastro[CURSOR], 8, 7);
    }
    if (dir == 5)
    {
      CURSOR = CURSOR + 1;
        if (CURSOR > 3)
        {
          CURSOR=3;
        }
        WAIT(10);
        PUTSPRITE(0, 40, posYrastro[CURSOR], 8, 7);
    }

    if (button < 0 && CURSOR == 0 && dinero > 100 && navaja == false)
    {
      dinero = dinero - 100;
      navaja = true;
      VPRINTNUMBER (11,2, 5, dinero);
      WAIT(10);
    }

    if (button < 0 && CURSOR == 1 && dinero > 200 && cadena == false)
    {
      dinero = dinero - 200;
      cadena = true;
      VPRINTNUMBER (11,2, 5, dinero);
      WAIT(10);
    }
    
    if (dir == 7 && CURSOR == 2 && dinero > pdr && rc > 0)
    {
      dinero = dinero - pdr;
      stock[rd] = stock[rd] + 1;
      rc = rc - 1;
      VPRINTNUMBER (20,8,1,rc);
      VPRINTNUMBER (11,2, 5, dinero);
      rdc = rdc + 1;
      WAIT(10);
    }
    if (button < 0 && CURSOR == 3)
    {
    CLS();
      int ranCalidad;
      int ranCC;
      ranCalidad = ran100();
      if (ranCalidad > 60)
      {
        VPRINT(0,0,"DEL ");
        VPRINT(5,0,drugs[rd]);
        VPRINT(14,0," QUE HAS COMPRADO");
        VPRINT(0,1,"TE HAN TANGADO");
        ranCC = ((ran100()*rc)/100);
        if (ranCC == 0) {
          ranCC =1;
        }
        VPRINTNUMBER(15,1,1,ranCC);
        VPRINT (0,3,"ESTABA CORTADA CON HARINA");
        stock[rd] = stock[rd] - ranCC;
        WAIT(200);
        VIAJAR();
      } 
      else 
      {
        VIAJAR();
      }
    } 
  }
}

void pijo() {
  CLS();
  int s;
  for (s=0; s<8; ++s)
  {
    stock[s] = 0;
  }
  CURSOR = 0;
  int cur = 0;
  int pijoDroga = ((ran100()*8)/100);
  VPRINT(0,0,"APARECE UN PIJO CON MONAZO");
  VPRINT(0,1,"QUIERE");
  VPRINT(7,1,drugs[pijoDroga]);
  VPRINT(0,3,"LE VENDES A PRECIO PREMIUM?");
  VPRINT(1,4,"SI");
  VPRINT(4,4,"NO");
  VPRINT(7,4,"UNA HOSTIA Y PALANTE");
  PUTSPRITE(0, cur,32, 8, 7);
  while(1)
    {
    HALT;
    dir = STICK(CURSORKEYS);
    button=STRIG(KEYBOARD_BUTTON);
    if (dir == 3)
    {
      CURSOR = CURSOR + 1;
      cur = cur +24;
        if (CURSOR > 2)
        {
          CURSOR=2;
          cur = 48;
        }
        WAIT(10);
        PUTSPRITE(0, cur, 32, 8, 7);
    }
    if (dir == 7)
    {
      CURSOR = CURSOR - 1;
      cur=cur-24;
        if (CURSOR < 0)
        {
          CURSOR=0;
          cur = 0;
        }
        WAIT(10);
        PUTSPRITE(0, cur, 32, 8, 7);
    }
    if (button < 0 && CURSOR == 0)
      {
      if (stock[pijoDroga] > 0) 
        {
        int precioPijo;
        precioPijo = (precioBARRIO[pijoDroga] * 4) * stock[pijoDroga];
        dinero = dinero + precioPijo;
        stock[pijoDroga] = 0;
        VPRINT(0,6,"SE LA VENDES POR ");
        VPRINTNUMBER(17,6,5,precioPijo);
        dia = dia -1;
        calcDeuda();
        stockCamello();
        WAIT(200);
        PRECIOS(bar);
        diaSemana();
        checkSecreta();
        BARRIO();
        }
      else 
        {
        CLS();
        VPRINT(0,0,"NO TIENES STOCK DE ELLA");
        VPRINT(0,1,"TE INTENTA PEGAR");
        WAIT(100);
        r = ran100();
          if (r<50)
            { //MENOS DE 50 GANAS AL PIJO
            CLS();
            VPRINT(0,0,"LE PEGAS UNA HOSTIA AL PIJO");
            r = (ran100()*4);
            VPRINT(0,1,"LE ROBAS ");
            VPRINTNUMBER(10,1,4,r);
            dinero = dinero + r;
            dia = dia -1;
            calcDeuda();
            stockCamello();
            WAIT(200);
            PRECIOS(bar);
            diaSemana();
            checkSecreta();
            BARRIO();
            }
          else 
          { 
          CLS();
          VPRINT(0,0,"EL PIJO TE ARREA");
          WAIT(100);
          dia = dia -1;
          vida = vida -20;
          PRECIOS(bar);
          calcDeuda();
          stockCamello();
          diaSemana();
          checkSecreta();
          BARRIO();
         }
        }
      }
    if (button < 0 && CURSOR == 1)
      {
      CLS();
      VPRINT(0,0,"NO LE VENDES"); 
      VPRINT(0,0,"TE INTENTA PEGAR");
      WAIT(50);
      r = ran100();
          if (r<50)
            { //MENOS DE 50 GANAS AL PIJO
            CLS();
            VPRINT(0,0,"LE PEGAS UNA HOSTIA AL PIJO");
            r = (ran100()*4);
            VPRINT(0,1,"LE ROBAS ");
            VPRINTNUMBER(10,1,4,r);
            dinero = dinero + r;
            dia = dia -1;
            calcDeuda();
            stockCamello();
            WAIT(200);
            PRECIOS(bar);
            diaSemana();
            checkSecreta();
            BARRIO();
            }
          else 
          { 
          CLS();
          VPRINT(0,0,"EL PIJO TE ARREA");
          WAIT(100);
          dia = dia -1;
          vida = vida -20;
          PRECIOS(bar);
          calcDeuda();
          stockCamello();
          diaSemana();
          checkSecreta();
          BARRIO();
          }
      }
    if (button < 0 && CURSOR == 2)
      {
      CLS();
      VPRINT(0,0,"LE VAS A SOLTAR UNA HOSTIA"); 
      WAIT(50);
      r = ran100();
        if (r<50)
          { //MENOS DE 50 GANAS AL PIJO
          CLS();
          VPRINT(0,0,"LE PEGAS UNA HOSTIA AL PIJO");
          r = (ran100()*4);
          VPRINT(0,1,"LE ROBAS ");
          VPRINTNUMBER(10,1,4,r);
          dinero = dinero + r;
          dia = dia -1;
          calcDeuda();
          stockCamello();
          WAIT(200);
          PRECIOS(bar);
          diaSemana();
          checkSecreta();
          BARRIO();
          }
        else 
          { 
          CLS();
          VPRINT(0,0,"EL PIJO TE ARREA");
          WAIT(100);
          dia = dia -1;
          vida = vida -20;
          PRECIOS(bar);
          calcDeuda();
          stockCamello();
          diaSemana();
          checkSecreta();
          BARRIO();
          }
      }
  }
}

void checkSecreta(){
   int randomSecreta;
  randomSecreta = (ran100()/10);
  if (randomSecreta > 8 && secretaPosible == true){
    haySecreta = true;
  }
}

void imprimeBarrio(int barrio,int barrioAhora) {
  
  switch (barrioAhora)
  {
  case 1:
    VPRINT (11,1,bilbao[barrio]);
    break;
  case 2:
    VPRINT (11,1,madrid[barrio]);
    break;
  case 3:
    VPRINT (11,1,newyork[barrio]);
    break;
  default:
    break;
  }
}

void imprimeIcono(char column, char line, char caracter){
  int x;
  int y;
  char c;
  uint vaddr = BASE10 + (line*32) + column; 
  
  for (x=0; x<2; ++x)
  {
    for (y=0; y<2; ++y)
    {
    VPOKE(vaddr+(x*32)+(y+32),caracter+c);
    c = c +1;
    } 
  }
  

}


